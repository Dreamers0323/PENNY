{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<!-- Welcome Section -->
<div class="welcome-section">
    <h1>Welcome back, {{ current_user.username }}!</h1>
    <p>Here's your financial overview for today</p>
</div>

<!-- Balance Card -->
<div class="card balance-card">
    <h2><i class="fas fa-wallet"></i> Total Balance</h2>
    <div class="balance">ZMW {{ "%.2f"|format(total_balance) if total_balance is defined else "0.00" }}</div>
    <div class="account-details">
        <span>Across all your accounts</span>
        <span>Updated: Just now</span>
    </div>
</div>

<!-- Account Summary -->
<div class="card">
    <h2><i class="fas fa-credit-card"></i> Your Accounts</h2>
    {% if accounts %}
        {% for account in accounts %}
        <div class="account-summary" style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #333;">
            <div>
                <div style="font-weight: bold;">{{ account.account_type }} Account</div>
                <div style="color: #999; font-size: 14px;">ID: {{ account.account_id[:8] }}...</div>
            </div>
            <div class="balance">ZMW {{ "%.2f"|format(account.balance) }}</div>
        </div>
        {% endfor %}
    {% else %}
        <p>You don't have any accounts yet. <a href="{{ url_for('accounts') }}" style="color: #bb86fc;">Create your first account</a> to get started!</p>
    {% endif %}
</div>

<!-- Quick Actions -->
<div class="card">
    <h2><i class="fas fa-bolt"></i> Quick Actions</h2>
    <div class="quick-actions">
        <a href="{{ url_for('accounts') }}" class="btn"><i class="fas fa-arrow-up"></i> Send Money</a>
        <a href="{{ url_for('accounts') }}#transfer-tab" class="btn"><i class="fas fa-exchange-alt"></i> Transfer Funds</a>
        <a href="{{ url_for('accounts') }}" class="btn"><i class="fas fa-piggy-bank"></i> Add to Savings</a>
        <a href="{{ url_for('accounts') }}" class="btn"><i class="fas fa-file-invoice"></i> Pay Bills</a>
    </div>
</div>
{% endblock %}